<template>
  <div class="template">
    <div class="application">
      <navigation />
      <div class="contents">
        <header></header>
        <main>
          <div id="content-one">
            <calendar />
            <schedule />
          </div>
          <div id="content-two">
            <div class="horizantal">
              <div class="card"></div>
              <div class="card"></div>
            </div>
            <div class="grafic"></div>
            <document />
          </div>
          <div id="content-three">
            <div class="card"></div>
            <materials />
          </div>
        </main>
      </div>
    </div>
  </div>

</template>

<style scoped>
@import "../css/components/block/buttons/chapter.css";
@import "../css/components/block/buttons/button.css";
@import "../css/components/block/inputs/input.css";
@import "../css/components/variables/text-style.css";
@import "../css/components/variables/variables.css";
@import "../css/components/block/other/other.css";
.template {
  display: flex;
  gap: 24px;
  background: var(--card-background_gray_fill, #fafafa);
  height: 100vh;
  padding-right: 24px;
}
.error {
  color: red;
  margin-top: 10px;
}
.application {
  display: flex !important;
  background-color: var(--card-background_gray_fill) !important;
  gap: 24px;
}
body {
  display: flex;
}
#content-one {
  display: flex;
  flex-direction: column;
  gap: 24px;
}
#content-two {
  display: flex;
  flex-direction: column;
  width: 642px;
  gap: 24px;
}
#content-three {
  display: flex;
  flex-direction: column;
  gap: 24px;
}
.horizantal {
  display: flex;
  gap: 24px;
}
.card {
  height: 111px;
  width: 100%;
  background-color: #ffffff;
  border-radius: 8px;
}
main {
  display: flex;
  gap: 24px;
  flex: 1;
}
.grafic {
  height: 241px;
  width: 100%;
  background-color: #ffffff;
  border-radius: 8px;
}
header {
  display: flex;
  padding: 16px 24px;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;
  height: 60px;
  border-radius: 0px 0px 8px 8px;
  background: #fff;
}
.contents {
  display: flex;
  flex-direction: column;
  gap: 24px;
}
</style>
<script setup>
import navigation from "../module/navigation.vue";
import { ref, onMounted } from "vue";
import { useRouter } from "vue-router";
import document from "../module/widgets/document.vue";
import schedule from "../module/widgets/schedule.vue";
import calendar from "../module/widgets/calendar.vue";
import materials from "../module/widgets/materials.vue";

// // üì¶ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
// const user = ref(null);
// const groupIds = ref([]);
// const router = useRouter();
// onMounted(() => {
//   const storedUser = localStorage.getItem("user");
//   if (!storedUser) {
//     router.push("/login");
//     return;
//   }

//   try {
//     user.value = JSON.parse(storedUser);
//     console.log("‚úÖ USER LOADED: ", user.value);

//     // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ã –∏ –∏–∑–≤–ª–µ–∫–∞–µ–º groupId
//     groupIds.value = user.value.students
//       ? user.value.students.map((student) => student.groupId)
//       : [];

//     // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ groupIds –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º
//     if (groupIds.value.length > 0) {
//       router.push({
//         path: "/diary",
//         query: { groupIds: JSON.stringify(groupIds.value) },
//       });
//     } else {
//       console.warn("–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥—Ä—É–ø–ø.");
//     }
//   } catch (error) {
//     console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ localStorage:", error);
//     router.push("/login"); // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ /login –ø—Ä–∏ –æ—à–∏–±–∫–µ
//   }
// });
</script>
